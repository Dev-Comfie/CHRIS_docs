<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title> ChRIS_ui :: ChRIS Docs</title>
    <meta name="generator" content="Antora 3.0.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <img src="../logo.png" alt="ChRIS logo">
      <a class="navbar-item" href="http://chrisproject.org/">The ChRIS Project</a>

</header>
<div class="body">
<div class="nav-container" data-component="ChRISDocs" data-version="ChRIS_ui">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../ChRIS_docs/CHRIS_docs_README.html">ChRIS docs</a>
      <ul class="versions">
        <li class="version">
          <a href="../ChRIS_ui/ChRIS_ui_README.html">ChRIS_ui</a>
          <p id="title_summary">This repository contains the reference UI for ChRIS, allowing users to create and interact with dynamic containerized workflows.
          The ChRIS UI is written primarily in TypeScript and React, and uses the PatternFly React pattern library.</p>
        </li>
        <li class="version">
          <a href="../ChRIS_ultron_backEnd/ChRIS_ultron_backEnd_README.html">ChRIS_ultron_backEnd</a>
          <p id="title_summary">The core backend service for the ChRIS distributed software platform, also known by the anacronym <em>CUBE</em>.
          Internally the service is implemented as a Django-PostgreSQL project offering a collection+json REST API.
          Important ancillary components include the pfcon and pman file transfer and remote process management microservices.</p>
        </li>
        <li class="version">
          <a href="../ChRIS_docs/CHRIS_docs_README.html">ChRIS_docs</a>
          <p id="title_summary">This page presents a quick overview of ChRIS, followed by some links to more resources, papers, and talks.</p>
        </li>
        <li class="version is-latest">
          <a href="../pman/pman_README.html">pman</a>
          <p id="title_summary"><em>pman</em>, which once stood for process manager, is a Flask application providing an API for creating jobs with various schedulers e.g.
            Kubernetes, Docker Swarm, and SLURM.
            It basically translates its own JSON interface to requests for the various supported backends.</p>
        </li>
   
        <li class="version">
          <a href="../ChRIS_store/ChRIS_store_README.html">ChRIS_store</a>
          <p id="title_summary">This page describes how to quickly get the set of services comprising the backend up and running for development and how to run the automated tests.
          A production deployment of the ChRIS store backend services is also explained.</p>
        </li>
        <li class="version">
          <a href="../ChRIS_store_ui/ChRIS_store_ui_README.html">ChRIS_store_ui</a>
          <p id="title_summary">UI for the ChRIS Store.</p>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">ChRIS_ui</button>
  <div class="version-menu">
    <a class="version is-missing" href="../pman/pman_README.html">pman</a>
    <a class="version" href="../latest/ChRIS_ui_README.html">latest</a>
    <a class="version is-missing" href="../ChRIS_ultron_backEnd/ChRIS_ultron_backEnd_README.html">ChRIS_ultron_backEnd</a>
    <a class="version is-current" href="ChRIS_ui_README.html">ChRIS_ui</a>
    <a class="version is-missing" href="../ChRIS_store_ui/ChRIS_store_ui_README.html">ChRIS_store_ui</a>
    <a class="version is-missing" href="../ChRIS_store/ChRIS_store_README.html">ChRIS_store</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/Mfonn/ChRIS_ui/edit/antora/modules/ROOT/pages/ChRIS_ui_README.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page"><span class="image"><img src="../logo_chris.png" alt="ChRIS logo"></span> ChRIS_ui</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="https://img.shields.io/github/license/fnndsc/chris_ui.svg" alt="License"></span> <span class="image"><img src="https://img.shields.io/github/last-commit/fnndsc/chris_ui.svg" alt="Last Commit"></span> <span class="image"><img src="https://img.shields.io/github/languages/code-size/FNNDSC/ChRIS_ui" alt="Code Size"></span></p>
</div>
<div class="paragraph">
<p>This repository contains the reference UI for ChRIS, allowing users to create and interact with dynamic containerized workflows.
The ChRIS UI is written primarily in <a href="https://www.typescriptlang.org/">TypeScript</a> and <a href="https://reactjs.org/">React</a>, and uses the <a href="https://github.com/patternfly/patternfly">PatternFly</a> React pattern library.</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="chris_ui.png" alt="Screenshot">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_try_it_now"><a class="anchor" href="#_try_it_now"></a>Try it now!</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">URL</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://app.chrisproject.org" class="bare">https://app.chrisproject.org</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://next.chrisproject.org" class="bare">https://next.chrisproject.org</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latest (master)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_quickstart"><a class="anchor" href="#_quickstart"></a>Quickstart</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, get the <a href="https://github.com/FNNDSC/ChRIS_ultron_backEnd">ChRIS backend</a> running.
Assuming the backend is on <code>http://localhost:8000/api/v1/</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">docker run --rm -d --name chris_ui -p 3000:3000 -e REACT_APP_CHRIS_UI_URL=http://localhost:8000/api/v1/ ghcr.io/fnndsc/chris_ui:latest</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>ChRIS_ui</em> is now running on <a href="http://localhost:3000/" class="bare">http://localhost:3000/</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_development"><a class="anchor" href="#_development"></a>Development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_0_preconditions"><a class="anchor" href="#_0_preconditions"></a>[0] Preconditions</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Install latest Docker for your platform.</strong></p>
<div class="paragraph">
<p>Currently tested platforms</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ubuntu 18.04+ (typically 20.04+, and Pop!_OS)</p>
</li>
<li>
<p>Fedora 32+</p>
</li>
<li>
<p>Arch Linux</p>
</li>
<li>
<p>macOS 11.X+ (Big Sur)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Get the backend services up so you can fully test the UI against actual data.</strong></p>
<div class="ulist">
<ul>
<li>
<p>Install latest <a href="https://docs.docker.com/compose/"><code>Docker Compose</code></a></p>
</li>
<li>
<p>On a Linux machine make sure to add your computer user to the <code>docker</code> group</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Open a terminal and start the backend services.</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"> git clone https://github.com/FNNDSC/miniChRIS.git
 cd miniChRIS
 ./minichris.sh
----+++&lt;details&gt;++++++&lt;summary&gt;++++++&lt;strong&gt;+++Alternatively, start the backend in development mode:
     +++&lt;/strong&gt;++++++&lt;/summary&gt;+++ ### Get the backend running from ChRIS_ultron_backEnd ```bash $ git clone https://github.com/FNNDSC/ChRIS_ultron_backEnd.git $ cd ChRIS_ultron_backEnd $ ./make.sh -U -I -i ``` ### Tearing down the ChRIS backend You can later remove all the backend containers and release storage volumes with: ```bash $ cd ChRIS_ultron_backEnd $ sudo rm -r FS $ ./unmake.sh ```+++&lt;/details&gt;+++

See https://github.com/FNNDSC/miniChRIS[FNNDSC/miniChRIS] for details.

=== [1] Configuring the backend URL

For development, it is recommended that you create either a `.env.local` or `.env.development.local` environment variables file in the root of the project.
Copy the existing `.env` file to this new file.
Changes to these files will be ignored by git.

*There are four (4) major environment variables that need to be set.*

* Point `REACT_APP_CHRIS_UI_URL` to your local backend instance.
By default (or if you copied the `.env` file) this is set to `+http://localhost:8000/api/v1/+`.
* Point `REACT_APP_PFDCM_URL` to the URL of a running PFDCM instance.
By default this is set to `+http://localhost:4005/+`.
* Set `REACT_APP_PFDCM_CUBEKEY` and `REACT_APP_PFDCM_SWIFTKEY` to the aliases (or keys) given to CUBE and Swift while setting up PFDCM.
By default these are both `local`.
If you're unsure what to use, you can list CUBE and Swift keys using the PFDCM API, or ask for these keys.

For details on how to set up PFDCM, refer to the https://github.com/FNNDSC/pfdcm[PFDCM readme].

=== [2] Start UI development server

You can follow any of these steps to start UI development server

* {blank}
+
==== Using `node` and `yarn` package manager directly on the metal
+
Open a new terminal on your system and follow these steps:
+
[,bash]</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git clone https://github.com/FNNDSC/ChRIS_ui.git
$ cd ChRIS_ui
$ npm i
$ npm run dev</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">+
More details can be found in the   https://github.com/FNNDSC/ChRIS_ui/wiki/Development-and-deployment-directly-on-the-metal[wiki].
* {blank}
+
==== Using `docker`
+
Open a new terminal on your system and follow these steps:
+
[,bash]</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git clone https://github.com/FNNDSC/ChRIS_ui.git
$ cd ChRIS_ui
$ docker build -t fnndsc/chris_ui:dev -f Dockerfile_dev .
$ docker run --rm -it -v $PWD:/home/localuser -p 3000:3000 -u $(id -u):$(id -g) --userns=host --name chris_ui fnndsc/chris_ui:dev</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">+
Open http://localhost:3000 to view it in the browser.

== Build the ChRIS UI app for production

https://github.com/openshift/source-to-image#readme[Source-to-image] can be used to build this project.

[,shell]</code></pre>
</div>
</div>
<div class="paragraph">
<p>s2i build <a href="https://github.com/FNNDSC/ChRIS_ui" class="bare">https://github.com/FNNDSC/ChRIS_ui</a> quay.io/fedora/nodejs-16 s2ichrisui</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">== Learn More

Interested in contributing?
https://chrisproject.org/join-us

You can learn more in the https://facebook.github.io/create-react-app/docs/getting-started[Create React App documentation].

To learn React, check out the https://reactjs.org/[React documentation].</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
